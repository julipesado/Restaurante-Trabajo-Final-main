<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-8">

      <div class="card shadow-sm">
        <div class="card-body">

          <h3 class="mb-4 text-center">
            @if (idProducto()) { Editar producto } @else { Agregar producto }
          </h3>

          <form
            (ngSubmit)="handleFormSubmission(newProductForm)"
            #newProductForm="ngForm"
          >

            <div class="row g-3">

              <div class="col-md-6">
                <label class="form-label">Nombre *</label>
                <input
                  class="form-control"
                  name="name"
                  ngModel
                  required
                  minlength="2"
                  #name="ngModel"
                >
              </div>

              <div class="col-md-6">
                <label class="form-label">Precio *</label>
                <input
                  class="form-control"
                  name="price"
                  ngModel
                  required
                >
              </div>

              <div class="col-12">
                <label class="form-label">Descripción</label>
                <input
                  class="form-control"
                  name="description"
                  ngModel
                >
              </div>

              <div class="col-md-4">
                <label class="form-label">Descuento (%)</label>
                <input class="form-control" name="descuento" ngModel>
              </div>

              <div class="col-md-4 d-flex align-items-center">
                <div class="form-check mt-4">
                  <input class="form-check-input" type="checkbox" name="happyhour" ngModel>
                  <label class="form-check-label">Happy hour</label>
                </div>
              </div>

              <div class="col-md-4 d-flex align-items-center">
                <div class="form-check mt-4">
                  <input class="form-check-input" type="checkbox" name="featured" ngModel>
                  <label class="form-check-label">Destacado</label>
                </div>
              </div>

              <div class="col-12">
                <label class="form-label">Categoría *</label>
                <select
                  class="form-select"
                  name="categoryId"
                  ngModel
                  required
                >
                  @for (category of categories; track $index) {
                    <option [value]="category.id">{{ category.name }}</option>
                  }
                </select>
              </div>

            </div>

            <button
              class="btn btn-primary w-100 mt-4"
              [disabled]="newProductForm.invalid || isLoading"
            >
              @if (idProducto()) { Guardar cambios } @else { Crear producto }
            </button>

          </form>

        </div>
      </div>

    </div>
  </div>
</div>
