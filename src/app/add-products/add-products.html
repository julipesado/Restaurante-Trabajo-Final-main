@if (idProducto()) {
    <h2>Editar producto</h2>
}
    @else {
        <h2>Agregar producto</h2>
    }
<div>
    <form (ngSubmit)="handleFormSubmission(newProductForm)" #newProductForm="ngForm">
        <div>
            <label for="name">Nombre del producto*</label>
            <input id="name" name="name" type="text" ngModel requiered ="true" minlength="2" #name="ngModel">
            @if (name.dirty && name.invalid) {
                <p class="error"> El nombre del producto es obligatorio</p>
            }
        </div>
        <div>
            <label for="price">Precio*</label>
            <input id="price" name="price" type="text" ngModel requiered ="true" minlength="2" #name="ngModel">
        </div>
        <div>
            <label for="description">Descripción</label>
            <input type="text" id="descripcion" name="description">
        </div>
        <div class="input-wrapper">
             <label for="descuento">Descuento</label>
             <input type="text" id="descuento" name="descuento">
             <span class="percent-symbol">%</span>
        </div>

        <div>
            <label for="hasHappyHour">Happy hour</label>
            <input type="checkbox" id="happyhour" name="happyhour">          
        </div>
        <div>
            <label for="featured">Producto destacado</label>
            <input type="checkbox" name="featured" id="featured">
        </div>
        <div>
            <label for="categoria">Categoría*</label>
            <select name="categoryId" id="categoryId" required ngModel #categoryId="ngModel">
                    @for (category of this.categoriesService.categories; track $index) {
                    <option [value]="category.id">{{ category.name }}</option>
                    }
            </select>
        </div>
        @if (idProducto()) {
            <button [disabled]="newProductForm.invalid || isLoading"> Guardar cambios</button>
        }
            @else {
                <button [disabled]="newProductForm.invalid || isLoading"> Crear</button>
            }
    </form>
</div>
