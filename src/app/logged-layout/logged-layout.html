<div class="container py-4">

  
  <div class="card shadow-sm mb-5">
    <div class="card-body">
      <div class="row align-items-center">

        
        <div class="col-md-8">
          <h2 class="mb-3">{{ me?.restaurantName }}</h2>

          <p class="mb-1">
            <strong>üìû Tel√©fono:</strong> {{ me?.phoneNumber }}
          </p>
          <p class="mb-1">
            <strong>üë§ Due√±o:</strong> {{ me?.firstName }} {{ me?.lastName }}
          </p>
          <p class="mb-0">
            <strong>üìç Direcci√≥n:</strong> {{ me?.address }}
          </p>
        </div>

        
        <div class="col-md-4">
          <div class="d-grid gap-2 mt-3 mt-md-0">
            <button class="btn btn-outline-danger" (click)="logOut()">
              Log out
            </button>

            <button class="btn btn-outline-danger" (click)="deleteAccount()">
              Eliminar cuenta
            </button>

            @if (me) {
              <a
                [routerLink]="['/edit-user', me.id]"
                class="btn btn-primary"
              >
                Editar cuenta
              </a>
            }

            <a routerLink="/add-product" class="btn btn-success">
              + Agregar producto
            </a>
          </div>
        </div>

      </div>
    </div>
  </div>

  
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3 class="mb-0">Categor√≠as</h3>

    <a
      routerLink="/add-categories"
      class="btn btn-outline-primary btn-sm"
    >
      + Agregar categor√≠a
    </a>
  </div>


  @for (category of categoriesService.categories; track category.id) {

    <div class="card shadow-sm mb-4">

     
      <div class="card-header bg-white d-flex justify-content-between align-items-center">
        <h5 class="mb-0 fw-bold">{{ category.name }}</h5>

        <div>
          <button class="btn btn-sm btn-outline-secondary me-2">
            Editar
          </button>

          <button
            class="btn btn-sm btn-outline-danger"
            (click)="categoriesService.deleteCategory(category.id)"
          >
            Eliminar
          </button>
        </div>
      </div>

      
      <ul class="list-group list-group-flush">

        @for (product of productService.userProducts; track $index) {
          @if(product.categoryId === category.id){
          <li class="list-group-item">
            <app-product-list-item
              [product]="product"
              [category]="categoryOf(product)">
            </app-product-list-item>
          </li>
        }
        }

        @empty {
          <li class="list-group-item text-center text-muted py-4">
            No hay productos en esta categor√≠a.
          </li>
        }

      </ul>
    </div>

  } @empty {

    <div class="alert alert-info text-center">
      No tienes categor√≠as creadas.
    </div>

  }

</div>
